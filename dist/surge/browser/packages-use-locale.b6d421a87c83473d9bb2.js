(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{348:function(e,n,t){"use strict";t.r(n);var a=t(1),o=t.n(a),r=t(652);n.default=function(){return o.a.createElement("div",null,o.a.createElement(r.b,{text:t(657)}))}},652:function(e,n,t){"use strict";var a=t(638),o=(t(639),t(640),t(641),t(642),t(643),t(644),t(645),t(646),t(647),t(648),t(649),t(1)),r=t.n(o);function l(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];for(var a=0,o=n;a<o.length;a++){var r=o[a];if("string"===typeof r)return r;if("object"===typeof r&&r.default&&"string"===typeof r.default)return r.default}}function c(e){var n=e.value,t=e.children,o=e.language,c=void 0===o?"none":o,s=l(t,n);if(!s)return null;["javascript jsx"].indexOf(c)&&(c="jsx"),["typescript jsx"].indexOf(c)&&(c="tsx"),["sh"].indexOf(c)&&(c="bash"),a.languages[c]||(c="none");var i=a.languages[c]?a.languages[c]:a.languages.js,u=Object(a.highlight)(s,i,c),p="language-"+c;return r.a.createElement("pre",{className:p},r.a.createElement("code",{className:p,dangerouslySetInnerHTML:{__html:u}}))}var s=t(650),i=t.n(s);function u(e){var n=l(e.text,e.children);return n?r.a.createElement(i.a,{source:n,renderers:{code:c}}):null}t.d(n,"a",function(){return c}),t.d(n,"b",function(){return u})},657:function(e,n,t){"use strict";t.r(n),n.default="# Installation\n\n```\nnpm install use-locale\n```\n\n# API\n\n- `getBrowserLocale: ({cookieKey = 'locale', fallbackLanguageCodes = []}) => string`\n- `useLocale: (currentLocale: string, {cookieKey = 'locale'}) => { locale: string, updateLocale: (locale: string) => void }`\n\n# Basic usage\n\n```typescript jsx\nimport React from 'react';\nimport { useLocale, getBrowserLocale } from 'use-locale';\n\ntype LanguageCode = 'en-US' | 'ko-KR';\nconst languageCodes: LanguageCode[] = ['en-US', 'ko-KR'];\n\nexport function Component() {\n  const {locale, updateLocale} = useLocale<LanguageCode>(getBrowserLocale<LanguageCode>());\n  \n  return (\n    <div>\n      <div>\n        {locale}\n      </div>\n      \n      <ul>\n        {\n          languageCodes.map(languageCode => (\n            <li key={languageCode} onClick={() => updateLocale(languageCode)}>\n              {languageCode}\n            </li>\n          ))\n        }\n      </ul>\n    </div>\n  );\n}\n```\n\nBasic use of `useLocale()` is simple.\n\n# Wrapping with React 16.3 Context\n\nHowever, the locale information should be used globally in the application, it is wrapped using the React 16.3 Context API.\n\n```typescript\nexport type LanguageCode = 'en-US' | 'ko-KR';\nexport const languageCodes: LanguageCode[] = ['en-US', 'ko-KR'];\n```\n\n```typescript jsx\nimport React, { Consumer, Context, ReactNode, useContext, createContext } from 'react';\nimport { useLocale } from 'use-locale';\nimport { LanguageCode, languageCodes } from './locale';\n\nexport interface SampleContextProps {\n  currentLocale: string;\n  children: ReactNode;\n}\n\nexport interface SampleContextState {\n  locale: LanguageCode;\n  updateLocale: (locale: LanguageCode) => void;\n}\n\n// @ts-ignore\nconst SampleContext: Context<SampleContextState> = createContext<SampleContextState>();\n\nexport function SampleContextProvider({ currentLocale, children }: SampleContextProps) {\n  const { locale, updateLocale } = useLocale<LanguageCode>(currentLocale);\n  \n  return (\n    <SampleContext.Provider value={{\n      locale,\n      updateLocale,\n    }}>\n      {children}\n    </SampleContext.Provider>\n  );\n}\n\nexport function useSampleContextState(): SampleContextState {\n  return useContext(SampleContext);\n}\n\nexport const SampleContextConsumer: Consumer<SampleContextState> = SampleContext.Consumer;\n```\n\nFirst, make a context\n\n```typescript jsx\nimport React from 'react';\nimport { SampleContextProvider } from './sample-context';\nimport { LanguageCode } from './locale';\nimport { getBrowserLocale } from 'use-locale';\nimport { Main } from './main';\n\nexport function App() {\n  return (\n    <SampleContextProvider currentLocale={getBrowserLocale<LanguageCode>()}>\n      <Main/>\n    </SampleContextProvider>\n  )\n}\n```\n\nAnd wrap the application main in the provider \n\n```typescript jsx\nimport React from 'react';\nimport { useSampleContextState } from './sample-context';\nimport { LanguageCode, languageCodes } from './locale';\n\nexport function Component() {\n  const { locale, updateLocale } = useSampleContextState();\n  \n  return (\n    <div>\n      <div>\n        {locale}\n      </div>\n      \n      <ul>\n        {\n          languageCodes.map(languageCode => (\n            <li key={languageCode} onClick={() => updateLocale(languageCode)}>\n              {languageCode}\n            </li>\n          ))\n        }\n      </ul>\n    </div>\n  );\n}\n```\n\nYou can access the locale information from anywhere in the application through the hook\n\n# SSR\n\nAdditionally, the locale information in SSR (Server Side Rendering) can be obtained via a cookie\n\n```typescript jsx\nimport express, { Express, Request, Response } from 'express';\nimport { LanguageCode, languageCodes } from './locale';\n\nconst app: Express = express();\n\napp.get('/', (req, res) => {\n  const locale: LanguageCode = req.cookies['locale'] || req.acceptsLanguages(...languageCodes) || languageCodes[0];\n  \n  // res.send(ssr processed html text)\n});\n\napp.listen(8080);\n``` "}}]);