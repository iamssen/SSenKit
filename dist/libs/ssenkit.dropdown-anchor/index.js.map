{"version":3,"sources":["webpack:///webpack/bootstrap 788e9d32e0f3c180b868","webpack:///./src/_library/ssenkit.dropdown-anchor/components/DropDownAnchor.tsx","webpack:///./src/_library/ssenkit.dropdown-anchor/components/index.ts","webpack:///./src/_library/ssenkit.dropdown-anchor/index.ts","webpack:///external \"react\"","webpack:///external \"react-dom\"","webpack:///./src/_library/ssenkit.dropdown-anchor/components/DropDownAnchor.scss?dab7"],"names":[],"mappings":"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","file":"dist/libs/ssenkit.dropdown-anchor/index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 788e9d32e0f3c180b868","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport './DropDownAnchor.scss';\nimport DropDownAnchorButtonProps from './DropDownAnchorButtonProps';\nimport DropDownContentProps from './DropDownContentProps';\n\nexport interface Props {\n  className?: string;\n  children?: React.ReactElement<DropDownContentProps>;\n  button: React.ReactElement<DropDownAnchorButtonProps>;\n  useAlternatePosition?: boolean;\n  useOutboundClick?: boolean;\n  onOpen?: () => void;\n  onClose?: () => void;\n}\n\nexport interface State {\n  open?: boolean;\n}\n\nexport default class extends React.Component<Props, State> {\n  private contentContainer: HTMLElement;\n  private anchorButton: HTMLElement;\n  private outboundClickSubscription: (event: MouseEvent) => void;\n  \n  static defaultProps: object = {\n    className: '',\n    useAlternatePosition: true,\n    useOutboundClick: false,\n  };\n  \n  state: State = {\n    open: false,\n  };\n  \n  render() {\n    const buttonProps: DropDownAnchorButtonProps & {ref?: (r: HTMLElement) => void} = {ref: r => this.anchorButton = r};\n    buttonProps['role'] = 'toggle';\n    buttonProps['aria-expanded'] = this.state.open;\n    \n    let contentElement: JSX.Element;\n    \n    if (this.state.open) {\n      contentElement = (\n        <div ref={r => this.contentContainer = r} role=\"container\">\n          {React.cloneElement(this.props.children as JSX.Element, {close: this.close})}\n        </div>\n      );\n      \n      if (!this.props.useOutboundClick) buttonProps.onClick = this.openerCloseHandler;\n    } else {\n      buttonProps.onClick = this.openerOpenHandler;\n    }\n    \n    return (\n      <div className={'DropDownAnchor ' + this.props.className}>\n        {React.cloneElement(this.props.button, buttonProps)}\n        {contentElement}\n      </div>\n    );\n  }\n  \n  componentDidUpdate() {\n    if (this.state.open) {\n      this.updateContentContainerPosition();\n      this.subscribeOutboundClick();\n    }\n  }\n  \n  componentWillUnmount() {\n    this.unsubscribeOutboundClick();\n  }\n  \n  updateContentContainerPosition() {\n    const documentWidth: number = window.innerWidth;\n    const documentHeight: number = window.innerHeight;\n    \n    const button: HTMLElement = ReactDOM.findDOMNode(this.anchorButton) as HTMLElement;\n    const contents: HTMLElement = ReactDOM.findDOMNode(this.contentContainer) as HTMLElement;\n    \n    if (!button) return;\n    \n    const buttonBound: ClientRect = button.getBoundingClientRect();\n    const contentsBound: ClientRect = contents.getBoundingClientRect();\n    \n    const gap: number = 3;\n    const alternatePositionMargin: number = 10; // FIXME JS 소숫점 Error 위치값 계산이 소숫점으로 들어가게 되면서 발생되는 에러를 해결하기 위한 여유분 추가\n    \n    let x: number = 0;\n    let y: number = buttonBound.height + gap;\n    \n    if (this.props.useAlternatePosition && contentsBound.left + contentsBound.width + alternatePositionMargin > documentWidth) {\n      x = buttonBound.width - contentsBound.width;\n    }\n    \n    if (this.props.useAlternatePosition && buttonBound.top + buttonBound.height + gap + contentsBound.height > documentHeight) {\n      y = -(contentsBound.height + gap);\n    }\n    \n    contents.style.left = x + 'px';\n    contents.style.top = y + 'px';\n  }\n  \n  // ---------------------------------------------\n  // outbound click\n  // ---------------------------------------------\n  subscribeOutboundClick = () => {\n    // subscribe window click event for contents close\n    if (!this.outboundClickSubscription && this.props.useOutboundClick) {\n      this.outboundClickSubscription = event => this.outboundClickHandler(event);\n      window.addEventListener('click', this.outboundClickSubscription);\n    }\n  };\n  \n  unsubscribeOutboundClick = () => {\n    if (this.outboundClickSubscription) {\n      window.removeEventListener('click', this.outboundClickSubscription);\n      this.outboundClickSubscription = null;\n    }\n  };\n  \n  outboundClickHandler = (event: MouseEvent) => {\n    const contents: HTMLElement = ReactDOM.findDOMNode(this.contentContainer) as HTMLElement;\n    const contentsBound: ClientRect = contents.getBoundingClientRect();\n    \n    const {clientX, clientY} = event;\n    \n    const toClose: boolean = clientX < contentsBound.left ||\n      clientX > contentsBound.left + contentsBound.width ||\n      clientY < contentsBound.top ||\n      clientY > contentsBound.top + contentsBound.height;\n    \n    // FIXME Windows + Chrome 환경에서 <select> 선택 시 clientX, clientY가 0으로 들어오는 현상이 있어서 창이 닫히는 문제를 회피\n    const isZero: boolean = clientX + clientY === 0;\n    \n    if (!isZero && toClose) this.closeContentContainer();\n    \n    event.stopPropagation();\n  };\n  \n  // ---------------------------------------------\n  // opener click\n  // ---------------------------------------------\n  openerOpenHandler = (event: React.MouseEvent<HTMLElement>) => {\n    this.openContentContainer();\n    event.stopPropagation();\n  };\n  \n  openerCloseHandler = (event: React.MouseEvent<HTMLElement>) => {\n    // this.cancelHandler(this.state.value);\n    this.closeContentContainer();\n    event.stopPropagation();\n  };\n  \n  // ---------------------------------------------\n  // open / close content container\n  // ---------------------------------------------\n  openContentContainer() {\n    this.setState({\n      open: true,\n    });\n    \n    if (typeof this.props.onOpen === 'function') {\n      this.props.onOpen();\n    }\n  }\n  \n  closeContentContainer() {\n    //debugger;\n    this.unsubscribeOutboundClick();\n    this.setState({\n      open: false,\n    });\n    \n    if (typeof this.props.onClose === 'function') {\n      this.props.onClose();\n    }\n  }\n  \n  close = () => {\n    if (this.state.open) this.closeContentContainer();\n  };\n}\n\n\n// WEBPACK FOOTER //\n// ./src/_library/ssenkit.dropdown-anchor/components/DropDownAnchor.tsx","export { default as DropDownAnchorButtonProps } from './DropDownAnchorButtonProps';\nexport { default as DropDownContentProps } from './DropDownContentProps';\nexport { default as DropDownAnchor } from './DropDownAnchor';\n\n\n// WEBPACK FOOTER //\n// ./src/_library/ssenkit.dropdown-anchor/components/index.ts","export {\n  DropDownAnchor as default,\n  DropDownAnchorButtonProps,\n  DropDownContentProps,\n} from './components';\n\n\n// WEBPACK FOOTER //\n// ./src/_library/ssenkit.dropdown-anchor/index.ts","module.exports = require(\"react\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react\"\n// module id = 1\n// module chunks = 0","module.exports = require(\"react-dom\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-dom\"\n// module id = 2\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/_library/ssenkit.dropdown-anchor/components/DropDownAnchor.scss\n// module id = 3\n// module chunks = 0"],"sourceRoot":""}