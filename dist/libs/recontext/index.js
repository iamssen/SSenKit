!function(t,e){for(var n in e)t[n]=e[n]}(exports,function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e){t.exports=require("tslib")},function(t,e){t.exports=require("react")},function(t,e,n){"use strict";n.r(e),n.d(e,"Provider",function(){return i}),n.d(e,"createStore",function(){return u});var r=n(0),o=n(1),i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.teardowns=new Set,e.subscriptions=new Set,e.setContextState=function(t){e.setState({contextState:Object.assign({},e.state.contextState,"function"==typeof t?t(e.state.contextState):t)})},e.dispatch=function(t){var n=t(e.state.contextState);if("function"==typeof n){var r=!1;return e.teardowns.add(n),function(){!r&&e.teardowns.has(n)&&(n(),e.teardowns.delete(n)),r=!0}}return function(){}},e.subscribe=function(t){return e.subscriptions.has(t)||e.subscriptions.add(t),function(){e.subscriptions.delete(t)}},e.updateStore=function(t,n){var r,o=Object.keys(e.state.contextState).find(function(n){return t===e.state.contextState[n]});o&&e.setState({contextState:Object.assign({},e.state.contextState,(r={},r[o]=n,r))})},e}return r.__extends(e,t),e.prototype.componentDidUpdate=function(t,e){var n,o;if(e.contextState!==this.state.contextState&&this.subscriptions.size>0)try{for(var i=r.__values(this.subscriptions),u=i.next();!u.done;u=i.next()){(0,u.value)(this.state.contextState,e.contextState)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}},e.prototype.componentWillUnmount=function(){var t,e;try{for(var n=r.__values(this.teardowns),o=n.next();!o.done;o=n.next()){(0,o.value)()}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.teardowns.clear(),this.subscriptions.clear()},e.displayName="Recontext.Provider",e}(o.Component);function u(t,e){return function(n,r){var o,i,u=Object.assign({},t,r||{});function a(t){return Object.keys(i).reduce(function(e,n){return e[n]=i[n](t),e},{})}return i=e(function(t){var e=Object.assign({},u,t),r=a(e),i=o,c=Object.assign({},e,r);return n.updateStore(i,c),u=e,o=c,c}),o=Object.assign({},u,a(u))}}}]));
//# sourceMappingURL=index.js.map