{"version":3,"sources":["webpack:///webpack/bootstrap 171fc393f12d18266557","webpack:///./src/_library/recontext/index.tsx","webpack:///external \"react\""],"names":[],"mappings":"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","file":"dist/libs/recontext/index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 171fc393f12d18266557","import * as React from 'react';\n\nexport type Teardown = () => void;\nexport type Action<ContextState> = (contextState: ContextState) => (Teardown | void);\nexport type Subscription<ContextState> = (state: ContextState, prevState: ContextState) => void;\n\nexport type ContextState<T> = T & {\n  dispatch: (action: Action<ContextState<T>>) => Teardown;\n  subscribe: (subscription: (state: ContextState<T>, prevState: ContextState<T>) => void) => Teardown;\n}\n\nexport class Provider<ContextState, Props = {}, State = {}> extends React.Component<Props, State & {contextState: ContextState}> {\n  static displayName: string = 'Recontext.Provider';\n  \n  private teardowns: Set<Teardown> = new Set;\n  private subscriptions: Set<Subscription<ContextState>> = new Set;\n  \n  componentDidUpdate(prevProps: Readonly<Props>, prevState: Readonly<State & {contextState: ContextState}>) {\n    if (prevState.contextState !== this.state.contextState && this.subscriptions.size > 0) {\n      for (const subscription of this.subscriptions) {\n        subscription(this.state.contextState, prevState.contextState);\n      }\n    }\n  }\n  \n  componentWillUnmount() {\n    for (const teardown of this.teardowns) {\n      teardown();\n    }\n    \n    this.teardowns.clear();\n    this.subscriptions.clear();\n  }\n  \n  protected setContextState = (stateOrProducer: Partial<ContextState> | ((contextState: ContextState) => Partial<ContextState>)) => {\n    this.setState({\n      contextState: Object.assign(\n        {},\n        this.state.contextState,\n        typeof stateOrProducer === 'function'\n          ? stateOrProducer(this.state.contextState)\n          : stateOrProducer,\n      ),\n    });\n  };\n  \n  protected dispatch: (action: Action<ContextState>) => Teardown = action => {\n    const teardown: Teardown | void = action(this.state.contextState);\n    \n    if (typeof teardown === 'function') {\n      let broken: boolean = false;\n      \n      this.teardowns.add(teardown);\n      \n      return () => {\n        if (!broken && this.teardowns.has(teardown)) {\n          teardown();\n          this.teardowns.delete(teardown);\n        }\n        broken = true;\n      };\n    } else {\n      return () => {\n        // blank teardown\n      };\n    }\n  };\n  \n  protected subscribe: (subscription: (state: ContextState, prevState: ContextState) => void) => Teardown = subscription => {\n    if (!this.subscriptions.has(subscription)) {\n      this.subscriptions.add(subscription);\n    }\n    \n    return () => {\n      this.subscriptions.delete(subscription);\n    };\n  };\n  \n  // tslint:disable\n  updateStore = (prevStore, nextStore) => {\n    const key: string | undefined = Object.keys(this.state.contextState).find(key => {\n      return prevStore === this.state.contextState[key];\n    });\n    \n    if (key) {\n      this.setState({\n        contextState: Object.assign(\n          {},\n          this.state.contextState,\n          {[key]: nextStore},\n        ),\n      });\n    }\n  };\n  // tslint:enable\n}\n\nexport type CreateStore<State, Actions> = (provider: Provider<{}>, initialState?: Partial<State>) => State & Actions;\n\nexport type ActionsInput<State, Actions> = {\n  [A in keyof Actions]: (state: State) => Actions[A];\n}\n\nexport function createStore<State, Actions>(defaultInitialState: State, config: (setState: (state: Partial<State>) => State & Actions) => ActionsInput<State, Actions>): CreateStore<State, Actions> {\n  return (provider, initialState) => {\n    let state: State = Object.assign({}, defaultInitialState, initialState || {});\n    let store: State & Actions;\n    let actionsInput: ActionsInput<State, Actions>;\n    \n    function createActions(state: State): Actions {\n      return Object.keys(actionsInput).reduce((actions, key) => {\n        actions[key] = actionsInput[key](state);\n        return actions;\n      }, {}) as Actions;\n    }\n    \n    function setState(update: Partial<State>): State & Actions {\n      const nextState: State = Object.assign({}, state, update);\n      const nextActions: Actions = createActions(nextState);\n      \n      const prevStore: State & Actions = store;\n      const nextStore: State & Actions = Object.assign({}, nextState, nextActions);\n      \n      provider.updateStore(prevStore, nextStore);\n      state = nextState;\n      store = nextStore;\n      \n      return nextStore;\n    }\n    \n    actionsInput = config(setState);\n    \n    store = Object.assign({}, state, createActions(state));\n    \n    return store;\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/_library/recontext/index.tsx","module.exports = require(\"react\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react\"\n// module id = 1\n// module chunks = 0"],"sourceRoot":""}